<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flutter Earth</title>
    <link rel="stylesheet" href="flutter_earth.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="flutter_earth.js" defer></script>
</head>
<body>
    <div id="app" class="app-window">
        <!-- Splash Screen -->
        <div id="splash-screen" class="splash-screen">
            <div class="splash-content">
                <div class="splash-logo">üåç</div>
                <h1>Flutter Earth</h1>
                <p>Initializing...</p>
                <div class="splash-progress">
                    <div class="progress-bar"></div>
                </div>
            </div>
        </div>

        <!-- Sidebar -->
        <div id="sidebar" class="sidebar">
            <div class="sidebar-content">
                <div class="sidebar-item" data-view="welcome">
                    <span class="sidebar-icon">üè†</span>
                    <span class="sidebar-label">Home</span>
                </div>
                <div class="sidebar-item" data-view="map">
                    <span class="sidebar-icon">üó∫Ô∏è</span>
                    <span class="sidebar-label">Map</span>
                </div>
                <div class="sidebar-item" data-view="download">
                    <span class="sidebar-icon">üì•</span>
                    <span class="sidebar-label">Download</span>
                </div>
                <div class="sidebar-item" data-view="satelliteInfo">
                    <span class="sidebar-icon">üõ∞Ô∏è</span>
                    <span class="sidebar-label">Satellite Info</span>
                </div>
                <div class="sidebar-item" data-view="indexAnalysis">
                    <span class="sidebar-icon">üå±</span>
                    <span class="sidebar-label">Index Analysis</span>
                </div>
                <div class="sidebar-item" data-view="vectorDownload">
                    <span class="sidebar-icon">üåê</span>
                    <span class="sidebar-label">Vector Download</span>
                </div>
                <div class="sidebar-item" data-view="dataViewer">
                    <span class="sidebar-icon">üìä</span>
                    <span class="sidebar-label">Data Viewer</span>
                </div>
                <div class="sidebar-item" data-view="progress">
                    <span class="sidebar-icon">üîÑ</span>
                    <span class="sidebar-label">Progress</span>
                </div>
                <div class="sidebar-item" data-view="settings">
                    <span class="sidebar-icon">‚öôÔ∏è</span>
                    <span class="sidebar-label">Settings</span>
                </div>
                <div class="sidebar-item" data-view="about">
                    <span class="sidebar-icon">‚ÑπÔ∏è</span>
                    <span class="sidebar-label">About</span>
                </div>
                <div class="sidebar-item" data-panel="toolbox">
                    <span class="sidebar-icon">üß∞</span>
                    <span class="sidebar-label">Toolbox</span>
                </div>
                <div class="sidebar-item" data-panel="bookmarks">
                    <span class="sidebar-icon">üîñ</span>
                    <span class="sidebar-label">Bookmarks</span>
                </div>
                <div class="sidebar-item" data-panel="attributeTable">
                    <span class="sidebar-icon">üìã</span>
                    <span class="sidebar-label">Attribute Table</span>
                </div>
            </div>
        </div>

        <!-- Top Bar -->
        <div id="top-bar" class="top-bar">
            <div class="top-bar-content">
                <div class="top-bar-left">
                    <h1 class="app-title">Flutter Earth</h1>
                    <div class="top-bar-separator"></div>
                    <span class="app-version">v1.0.0 - Ready</span>
                </div>
                <div class="top-bar-right">
                    <button id="help-button" class="help-button" title="Help / Documentation">?</button>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <div id="main-area" class="main-area">
            <!-- Welcome View -->
            <div id="welcome-view" class="view-content active">
                <div class="welcome-content">
                    <div class="welcome-logo">üåç</div>
                    <h1>Welcome to Flutter Earth!</h1>
                    <p>Select a tool from the sidebar to get started.</p>
                </div>
            </div>

            <!-- Map View -->
            <div id="map-view" class="view-content">
                <div class="map-container">
                    <h2>Map View</h2>
                    <div id="map-placeholder" class="map-placeholder">
                        <p>Map component will be loaded here</p>
                    </div>
                </div>
            </div>

            <!-- Download View -->
            <div id="download-view" class="view-content">
                <div class="download-container">
                    <h2>Download Manager</h2>
                    <div class="download-form">
                        <div class="form-section">
                            <h3>Area of Interest</h3>
                            <div class="input-group">
                                <label for="aoi-input">Enter coordinates or GeoJSON:</label>
                                <div class="input-row">
                                    <input id="aoi-input" type="text" placeholder="[minLon, minLat, maxLon, maxLat] or GeoJSON">
                                    <button id="map-selector-btn" class="map-btn" title="Open map selector">üó∫Ô∏è</button>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Date Range</h3>
                            <div class="input-group">
                                <label for="start-date">Start Date:</label>
                                <div class="input-row">
                                    <input id="start-date" type="text" placeholder="YYYY-MM-DD">
                                    <button class="calendar-btn" data-target="#start-date">üìÖ</button>
                                </div>
                            </div>
                            <div class="input-group">
                                <label for="end-date">End Date:</label>
                                <div class="input-row">
                                    <input id="end-date" type="text" placeholder="YYYY-MM-DD">
                                    <button class="calendar-btn" data-target="#end-date">üìÖ</button>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Sensor</h3>
                            <div class="input-group">
                                <label for="sensor-select">Select Sensor:</label>
                                <select id="sensor-select">
                                    <option value="">Choose a sensor...</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Output Directory</h3>
                            <div class="input-group">
                                <div class="input-row">
                                    <input id="output-dir" type="text" placeholder="Choose output directory">
                                    <button id="browse-btn">Browse...</button>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Cloud Settings</h3>
                            <div class="input-group">
                                <div class="checkbox-group">
                                    <input type="checkbox" id="cloud-mask">
                                    <label for="cloud-mask">Apply Cloud Mask</label>
                                </div>
                            </div>
                            <div class="input-group">
                                <label for="cloud-cover">Max Cloud Cover (%):</label>
                                <input id="cloud-cover" type="number" min="0" max="100" value="20">
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Resolution Settings</h3>
                            <div class="input-group">
                                <div class="checkbox-group">
                                    <input type="checkbox" id="best-res">
                                    <label for="best-res">Use Highest Resolution</label>
                                </div>
                            </div>
                            <div class="input-group">
                                <label for="target-res">Target Res (m):</label>
                                <input id="target-res" type="number" min="1" max="1000" value="30">
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Tiling Settings</h3>
                            <div class="input-group">
                                <label for="tiling-method">Method:</label>
                                <select id="tiling-method">
                                    <option value="degree">degree</option>
                                    <option value="tile">tile</option>
                                    <option value="scene">scene</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label for="subsections">Subsections:</label>
                                <input id="subsections" type="number" min="1" max="1000" value="100">
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Processing Options</h3>
                            <div class="input-group">
                                <div class="checkbox-group">
                                    <input type="checkbox" id="overwrite">
                                    <label for="overwrite">Overwrite Existing Files</label>
                                </div>
                            </div>
                            <div class="input-group">
                                <div class="checkbox-group">
                                    <input type="checkbox" id="cleanup">
                                    <label for="cleanup">Cleanup Intermediate Tiles</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3>Download Controls</h3>
                            <div class="button-group">
                                <button id="start-download" class="btn-primary">Start Download</button>
                                <button id="cancel-download" class="btn-secondary">Cancel Download</button>
                            </div>
                            <div id="download-status" class="download-status"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings View -->
            <div id="settings-view" class="view-content">
                <div class="settings-container">
                    <h2>Settings</h2>
                    <div class="settings-form">
                        <div class="form-section">
                            <h3>Theme</h3>
                            <div class="input-group">
                                <label for="theme-select">Select Theme:</label>
                                <select id="theme-select">
                                    <option value="default">Default</option>
                                    <option value="dark">Dark</option>
                                    <option value="light">Light</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- About View -->
            <div id="about-view" class="view-content">
                <div class="about-container">
                    <h2>About Flutter Earth</h2>
                    <div class="about-content">
                        <p>Flutter Earth is a powerful Earth observation data management and analysis tool.</p>
                        <p>Version: 1.0.0</p>
                        <p>Built with modern web technologies for seamless data exploration.</p>
                    </div>
                </div>
            </div>

            <!-- Progress View -->
            <div id="progress-view" class="view-content">
                <div class="progress-container">
                    <h2>Progress</h2>
                    <div class="progress-list">
                        <div class="progress-item">
                            <div class="progress-header">
                                <span class="progress-title">Download Task 1</span>
                                <span class="progress-status">Running</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 45%"></div>
                            </div>
                            <div class="progress-details">
                                <span>45% Complete</span>
                                <span>2.3 GB / 5.1 GB</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Index Analysis View -->
            <div id="indexAnalysis-view" class="view-content">
                <div class="index-analysis-container">
                    <h2>Index Analysis</h2>
                    <div class="analysis-form">
                        <div class="form-section">
                            <h3>Analysis Parameters</h3>
                            <div class="input-group">
                                <label for="index-type">Index Type:</label>
                                <select id="index-type">
                                    <option value="ndvi">NDVI</option>
                                    <option value="ndwi">NDWI</option>
                                    <option value="ndbi">NDBI</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Vector Download View -->
            <div id="vectorDownload-view" class="view-content">
                <div class="vector-download-container">
                    <h2>Vector Download</h2>
                    <div class="vector-form">
                        <div class="form-section">
                            <h3>Vector Data Source</h3>
                            <div class="input-group">
                                <label for="vector-source">Data Source:</label>
                                <select id="vector-source">
                                    <option value="openstreetmap">OpenStreetMap</option>
                                    <option value="naturalearth">Natural Earth</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Data Viewer View -->
            <div id="dataViewer-view" class="view-content">
                <div class="data-viewer-container">
                    <h2>Data Viewer</h2>
                    <div class="viewer-content">
                        <p>Data visualization and analysis tools will be available here.</p>
                    </div>
                </div>
            </div>

            <!-- Satellite Info View -->
            <div id="satelliteInfo-view" class="view-content">
                <div class="satellite-info-container">
                    <h2>Satellite Information</h2>
                    <div class="satellite-list">
                        <div class="satellite-item">
                            <h3>Landsat 8</h3>
                            <p>Operational Land Imager (OLI) and Thermal Infrared Sensor (TIRS)</p>
                        </div>
                        <div class="satellite-item">
                            <h3>Sentinel-2</h3>
                            <p>MultiSpectral Instrument (MSI)</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Status Bar -->
        <div id="status-bar" class="status-bar">
            <div class="status-content">
                <div class="status-spacer"></div>
                <div class="status-text">
                    <span id="connection-status">Status: Initializing...</span>
                </div>
            </div>
        </div>

        <!-- Modals -->
        <div id="auth-dialog" class="modal" style="display: none;">
            <div class="modal-content">
                <h3>Authentication Required</h3>
                <div class="auth-form">
                    <div class="input-group">
                        <label for="key-file">Key File:</label>
                        <input id="key-file" type="file" accept=".json">
                    </div>
                    <div class="input-group">
                        <label for="project-id">Project ID:</label>
                        <input id="project-id" type="text" placeholder="Enter project ID">
                    </div>
                    <div class="button-group">
                        <button id="auth-submit" class="btn-primary">Submit</button>
                        <button id="auth-help" class="btn-secondary">Help</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="help-popup" class="modal" style="display: none;">
            <div class="modal-content">
                <h3>Help & Documentation</h3>
                <div class="help-content">
                    <p>Welcome to Flutter Earth! Here's how to get started:</p>
                    <ul>
                        <li><strong>Download:</strong> Download satellite imagery and data</li>
                        <li><strong>Map:</strong> View and interact with maps</li>
                        <li><strong>Analysis:</strong> Perform various analyses on your data</li>
                        <li><strong>Settings:</strong> Configure the application</li>
                    </ul>
                </div>
                <button id="help-close" class="btn-primary">Close</button>
            </div>
        </div>

        <!-- Calendar Modal -->
        <div id="calendar-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="calendar-header">
                    <button id="calendar-prev" class="calendar-nav">‚Äπ</button>
                    <h3 id="calendar-title">January 2024</h3>
                    <button id="calendar-next" class="calendar-nav">‚Ä∫</button>
                </div>
                <div id="calendar-grid" class="calendar-grid"></div>
            </div>
        </div>

        <!-- Map Selector Modal -->
        <div id="map-modal" class="modal" style="display: none;">
            <div class="modal-content map-modal-content">
                <h3>Select Area on Map</h3>
                <div id="map-selector-container" class="map-selector-container">
                    <iframe src="map_selector.html" frameborder="0"></iframe>
                </div>
                <div class="button-group">
                    <button id="map-confirm" class="btn-primary">Confirm Selection</button>
                    <button id="map-cancel" class="btn-secondary">Cancel</button>
                </div>
            </div>
        </div>

        <!-- Notification Popup -->
        <div id="notification-popup" class="notification-popup" style="display: none;">
            <div class="notification-content">
                <span id="notification-text"></span>
            </div>
        </div>
    </div>
</body>
</html> 