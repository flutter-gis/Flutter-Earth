<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Theme Menu Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f0f0f0;
        }
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .theme-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            padding: 0 20px;
            overflow-x: auto;
            scrollbar-width: thin;
        }
        .theme-tab {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 20px;
            padding: 8px 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            font-size: 0.9em;
            font-weight: 500;
        }
        .theme-tab:hover {
            border-color: #007bff;
            background: #007bff;
            color: white;
        }
        .theme-tab.active {
            background: #007bff;
            color: white;
            border-color: #007bff;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        .theme-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            padding: 20px;
            max-height: 600px;
            overflow-y: auto;
            background: #f8f9fa;
            border-radius: 12px;
            border: 1px solid #dee2e6;
        }
        .theme-card {
            background: white;
            border: 2px solid #dee2e6;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .theme-card:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            border-color: #007bff;
        }
        .theme-card-icon {
            font-size: 3em;
            margin-bottom: 12px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            flex-shrink: 0;
        }
        .theme-card-title {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 4px;
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }
        .theme-category {
            font-size: 0.9em;
            opacity: 0.8;
            margin-bottom: 8px;
        }
        .test-info {
            background: #e9ecef;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .test-info h3 {
            margin-top: 0;
            color: #495057;
        }
        .test-info ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        .test-info li {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>Theme Menu Test</h1>
        
        <div class="test-info">
            <h3>Test Information:</h3>
            <ul>
                <li>This page tests if all theme categories are properly displayed in the menu</li>
                <li>Expected categories: All Themes, Professional, Pride, Gaming, Nature, MLP, Minecraft</li>
                <li>Each category should show its themes when clicked</li>
                <li>Theme cards should display the theme icon, name, and category</li>
            </ul>
        </div>

        <!-- Theme Category Tabs -->
        <div id="theme-tab-container" class="theme-tabs">
            <!-- Theme tabs will be populated by JavaScript -->
        </div>

        <!-- Theme Grid: Show filtered themes -->
        <div id="theme-grid" class="theme-grid">
            <!-- All themes will be populated by JavaScript -->
        </div>
    </div>

    <script src="generated_themes.js"></script>
    <script>
        class ThemeMenuTest {
            constructor() {
                this.currentCategory = 'all';
                this.init();
            }
            
            init() {
                console.log('[TEST] Initializing theme menu test...');
                console.log('[TEST] Available themes:', window.availableThemes);
                
                if (!window.availableThemes || window.availableThemes.length === 0) {
                    console.error('[TEST] No themes found!');
                    document.getElementById('theme-grid').innerHTML = 
                        '<div style="color:red;text-align:center;padding:20px;">No themes found. Check generated_themes.js loading.</div>';
                    return;
                }
                
                this.initializeThemeTabs();
                this.updateThemeGrid('all');
                console.log('[TEST] Theme menu test initialized successfully');
            }
            
            getUniqueThemeCategories() {
                const categories = new Set(window.availableThemes.map(t => t.category));
                return ['all', ...Array.from(categories)];
            }
            
            getCategoryDisplayName(category) {
                const map = {
                    'all': 'ðŸŒŸ All Themes',
                    'basic': 'ðŸŒ Basic',
                    'mlp': 'ðŸ¦„ My Little Pony',
                    'mc': 'â›ï¸ Minecraft',
                    'queer_pride': 'ðŸ³ï¸â€ðŸŒˆ Queer Pride',
                    'unity_pride': 'ðŸ¤ Unity Pride',
                    'default': 'ðŸŒ Default',
                    'dark': 'ðŸŒ‘ Dark',
                    'light': 'ðŸŒž Light',
                    'professional': 'ðŸ’¼ Professional',
                    'corporate': 'ðŸ¢ Corporate',
                    'pride': 'ðŸ³ï¸â€ðŸŒˆ Pride',
                    'special': 'âœ¨ Special',
                    'minecraft': 'â›ï¸ Minecraft',
                    'gaming': 'ðŸŽ® Gaming',
                    'nature': 'ðŸŒ¿ Nature',
                    'other': 'â­ Other',
                };
                return map[category] || (category ? category.charAt(0).toUpperCase() + category.slice(1) : 'Unknown');
            }
            
            initializeThemeTabs() {
                const categories = this.getUniqueThemeCategories();
                const tabContainer = document.getElementById('theme-tab-container');
                if (!tabContainer) return;
                
                tabContainer.innerHTML = '';
                console.log('[TEST] Creating theme tabs for categories:', categories);
                
                categories.forEach(category => {
                    const tab = document.createElement('button');
                    tab.className = 'theme-tab';
                    tab.dataset.category = category;
                    tab.textContent = category === 'all' ? 'All Themes' : this.getCategoryDisplayName(category);
                    tab.addEventListener('click', () => {
                        console.log('[TEST] Tab clicked:', category);
                        this.switchThemeCategory(category);
                    });
                    tabContainer.appendChild(tab);
                });
                
                // Set first tab as active
                if (tabContainer.firstChild) {
                    tabContainer.firstChild.classList.add('active');
                }
            }
            
            switchThemeCategory(category) {
                console.log('[TEST] Switching theme category to:', category);
                this.currentCategory = category;
                
                document.querySelectorAll('.theme-tab').forEach(tab => {
                    tab.classList.toggle('active', tab.dataset.category === category);
                });
                
                this.updateThemeGrid(category);
            }
            
            updateThemeGrid(category = 'all') {
                const grid = document.getElementById('theme-grid');
                if (!grid) return;
                
                let themesToShow = window.availableThemes;
                if (category && category !== 'all') {
                    themesToShow = window.availableThemes.filter(t => t.category === category);
                }
                
                console.log('[TEST] Updating theme grid for category:', category, 'Themes:', themesToShow.map(t => t.name));
                
                grid.innerHTML = '';
                themesToShow.forEach(theme => {
                    const card = document.createElement('div');
                    card.className = 'theme-card';
                    card.innerHTML = `
                        <div class="theme-card-icon">${theme.icon || theme.emoji}</div>
                        <div class="theme-card-title">${theme.display_name}</div>
                        <div class="theme-category">${this.getCategoryDisplayName(theme.category)}</div>
                    `;
                    card.addEventListener('click', () => {
                        console.log('[TEST] Theme clicked:', theme.name);
                        alert(`Theme "${theme.display_name}" (${theme.category}) selected!`);
                    });
                    grid.appendChild(card);
                });
            }
        }
        
        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            new ThemeMenuTest();
        });
    </script>
</body>
</html> 